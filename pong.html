<!DOCTYPE html>
<html>
<head>
	<title>Pong</title>
	<link rel="icon" href="https://img.icons8.com/pastel-glyph/64/000000/ping-pong.png"/>
	<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
	<script type="text/javascript">
		function handle_set_x1(num,id_num) {
			var pos_x = parseInt($("#"+id_num).css("left"));
			$("#"+id_num).css("left", pos_x);
			socket.emit("move", {pos_x:pos_x, id_num:id_num});
		}
		function set_x(num,id_num) {
			$("#"+id_num).css("left", num);
		}
		function handle_set_x(p){
		  	document.getElementById('info').innerHTML = 'Position X : ' + p.pageX + '<br />Position Y : ' + p.pageY;
		  	set_x(p.pageX-75, "p1");
			socket.emit("move", {pos_x:p.pageX-75, id_num:"p1"});
		}
	</script>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		var socket = io();
		window.socket = socket;
		socket.on("move", function(object) {
			set_x(object.pos_x, object.id_num);
		});
	</script>
</head>
<body>
	<script type="text/javascript">
		addEventListener('mousemove', handle_set_x);
	</script>
	<div style="position:absolute;top:600px;left:45px;width:20px;height: 20px;background:red;-moz-border-radius:10px;-webkit-border-radius:10px;border-radius:10px;"></div>
	<div style="position:absolute;top:900px;left:45px;background-color:blue;height:10px;width:150px;"
		id="p1"></div>
	<div style="position:absolute;top:300px;left:45px;background-color: red;height:10px;width:150px;"
		id="p2"></div>
	<div style="position:absolute;top:10px;left:10px;background-color:black;padding:25px 50px;color:white;" id='info'></div>
</body>
</html>